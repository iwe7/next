{"version":3,"sources":["resolvers/log.resolvers.ts"],"names":[],"mappings":";;;;;;;;;;;AACA,0CAAyC;AACzC,6CAAkD;AAClD,2CAA2C;AAC3C,yEAAqE;AAGrE,IAAa,YAAY,GAAzB;IACI,YAA6B,OAAmB;QAAnB,YAAO,GAAP,OAAO,CAAY;IAChD,CAAC;IAID,KAAK,CAAC,OAAO;QACT,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;QACzB,OAAO,CAAC,IAAI,IAAI,OAAO,CAAC,IAAI,CAAC;YACzB,MAAM,EAAE,SAAS;SACpB,CAAC,CAAC;QAEH,OAAO,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;IAClC,CAAC;IAID,KAAK,CAAC,UAAU,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE;QACxB,OAAO,IAAI,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;IACvC,CAAC;CACJ,CAAA;AAdG;IAFC,eAAK,EAAE;IACP,kBAAS,CAAC,sBAAS,CAAC;;;;2CAQpB;AAID;IAFC,eAAK,EAAE;IACP,kBAAS,CAAC,sBAAS,CAAC;;;;8CAGpB;AAnBQ,YAAY;IADxB,kBAAQ,CAAC,KAAK,CAAC;qCAE0B,qBAAU;GADvC,YAAY,CAoBxB;AApBY,oCAAY","file":"log.resolvers.js","sourcesContent":["import { Log } from \"../entities\";\nimport { LogService } from \"../services\";\nimport { Query, Resolver } from \"@nestjs/graphql\";\nimport { UseGuards } from \"@nestjs/common\";\nimport { UserGuard } from \"@notadd/authentication/guards/user.guard\";\n\n@Resolver(\"Log\")\nexport class LogResolvers {\n    constructor(private readonly service: LogService) {\n    }\n\n    @Query()\n    @UseGuards(UserGuard)\n    async getLogs(): Promise<Array<Log>> {\n        console.log(process.pid);\n        process.send && process.send({\n            action: \"restart\",\n        });\n\n        return this.service.getLogs();\n    }\n\n    @Query()\n    @UseGuards(UserGuard)\n    async getLogById(obj, { id }): Promise<Log | undefined> {\n        return this.service.getLogById(id);\n    }\n}\n"]}